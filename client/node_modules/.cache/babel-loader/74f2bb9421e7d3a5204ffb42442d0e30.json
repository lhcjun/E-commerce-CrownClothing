{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Desktop\\\\Andrei's Course\\\\CRA\\\\E-commerce-CrownClothing\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from 'reselect';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport SignInAndSignUpPage from './pages/signIn-and-sigUp/signIn-and-sigUp.component';\nimport CheckoutPage from './pages/checkout/checkout.component';\nimport ContactPage from './pages/contact/contact.component';\nimport Header from './components/header/header.component';\nimport ScrollToTop from './components/scroll-to-top/ScrollToTop';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport './App.css';\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.unsubscribeFromAuth = null;\n  }\n\n  componentDidMount() {//  listen to user login logout event \n    // this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n    //   if(userAuth){  // not  null > sign in\n    //     // get document reference back from firebase.utils\n    //     const userRef = await createUserProfileDocument(userAuth)\n    //     // listen to doc snapShop obj update > Get user actual data (snapShot) when every update\n    //     userRef.onSnapshot(snapShot => {\n    //       // set state > sign in\n    //       setCurrentUser({ id: snapShot.id, ...snapShot.data() })\n    //     })\n    //   }else{\n    //       // set state > sign out\n    //     setCurrentUser(userAuth)  // null\n    // }})\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Router, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ScrollToTop, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(HomePage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: \"/shop\",\n      component: ShopPage,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 15\n      }\n    }), \"  \", /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/contact\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(ContactPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/checkout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(CheckoutPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/signin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 15\n      }\n    }, \"        \", this.props.currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 43\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUpPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 65\n      }\n    }))))));\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["C:/Users/USER/Desktop/Andrei's Course/CRA/E-commerce-CrownClothing/src/App.js"],"names":["React","Component","BrowserRouter","Router","Switch","Route","Redirect","connect","createStructuredSelector","HomePage","ShopPage","SignInAndSignUpPage","CheckoutPage","ContactPage","Header","ScrollToTop","selectCurrentUser","App","unsubscribeFromAuth","componentDidMount","componentWillUnmount","render","props","currentUser","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,MAAlC,EAA0CC,KAA1C,EAAiDC,QAAjD,QAAiE,kBAAjE;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,wBAAT,QAAyC,UAAzC;AAEA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,mBAAP,MAAgC,qDAAhC;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,OAAOC,WAAP,MAAwB,mCAAxB;AAEA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,OAAOC,WAAP,MAAwB,wCAAxB;AACA,SAASC,iBAAT,QAAkC,6BAAlC;AAEA,OAAO,WAAP;;AAGA,MAAMC,GAAN,SAAkBhB,SAAlB,CAA4B;AAAA;AAAA;AAAA,SAE1BiB,mBAF0B,GAEJ,IAFI;AAAA;;AAI1BC,EAAAA,iBAAiB,GAAE,CAEjB;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD;;AAEDC,EAAAA,oBAAoB,GAAE;AACpB,SAAKF,mBAAL;AACD;;AAEDG,EAAAA,MAAM,GAAE;AACN,wBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,KAAD;AAAO,MAAA,KAAK,EAAE,IAAd;AAAoB,MAAA,IAAI,EAAC,GAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF,eAIE,oBAAC,KAAD;AAAO,MAAA,IAAI,EAAC,OAAZ;AAAoB,MAAA,SAAS,EAAEX,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJF,qBAKE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CALF,eAQE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CARF,eAWE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,SAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACG,KAAKY,KAAL,CAAWC,WAAX,gBAAyB,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,GAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAzB,gBAA+C,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADlD,CAXF,CAFF,CADF,CADF,CADF;AAwBD;;AApDyB;;AAwD5B,MAAMC,eAAe,GAAGhB,wBAAwB,CAAC;AAC/Ce,EAAAA,WAAW,EAAEP;AADkC,CAAD,CAAhD;AAIA,eAAeT,OAAO,CAACiB,eAAD,CAAP,CAAyBP,GAAzB,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport { BrowserRouter as Router, Switch, Route, Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\nimport { createStructuredSelector } from 'reselect';\r\n\r\nimport HomePage from './pages/homepage/homepage.component';\r\nimport ShopPage from './pages/shop/shop.component';\r\nimport SignInAndSignUpPage from './pages/signIn-and-sigUp/signIn-and-sigUp.component';\r\nimport CheckoutPage from './pages/checkout/checkout.component';\r\nimport ContactPage from './pages/contact/contact.component';\r\n\r\nimport Header from './components/header/header.component';\r\nimport ScrollToTop from './components/scroll-to-top/ScrollToTop';\r\nimport { selectCurrentUser } from './redux/user/user.selectors';\r\n\r\nimport './App.css';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  unsubscribeFromAuth = null;\r\n\r\n  componentDidMount(){\r\n    \r\n    //  listen to user login logout event \r\n    // this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\r\n    //   if(userAuth){  // not  null > sign in\r\n    //     // get document reference back from firebase.utils\r\n    //     const userRef = await createUserProfileDocument(userAuth)\r\n\r\n    //     // listen to doc snapShop obj update > Get user actual data (snapShot) when every update\r\n    //     userRef.onSnapshot(snapShot => {\r\n    //       // set state > sign in\r\n    //       setCurrentUser({ id: snapShot.id, ...snapShot.data() })\r\n    //     })\r\n    //   }else{\r\n    //       // set state > sign out\r\n    //     setCurrentUser(userAuth)  // null\r\n    // }})\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    this.unsubscribeFromAuth();\r\n  }\r\n\r\n  render(){\r\n    return (\r\n      <div>\r\n        <Router>\r\n          <ScrollToTop>\r\n            <Header />\r\n            <Switch>\r\n              <Route exact={true} path='/'>       \r\n                <HomePage />\r\n              </Route>\r\n              <Route path='/shop' component={ShopPage} />  {/* 3.0  component={Page} */}\r\n              <Route exact path='/contact'>       \r\n                <ContactPage />\r\n              </Route>\r\n              <Route exact path='/checkout'>\r\n                <CheckoutPage />\r\n              </Route>\r\n              <Route exact path='/signin'>        {/* 3.0  render */}\r\n                {this.props.currentUser ? <Redirect to='/' /> : <SignInAndSignUpPage/>}\r\n              </Route>\r\n            </Switch>\r\n          </ScrollToTop>\r\n        </Router>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  currentUser: selectCurrentUser\r\n})\r\n\r\nexport default connect(mapStateToProps)(App);"]},"metadata":{},"sourceType":"module"}